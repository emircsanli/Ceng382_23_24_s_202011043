@page
@model WebApp1.Pages.ListRoomsModel


@{
    ViewData["Title"] = "ListRooms";
}

<link rel="stylesheet" href="../css/ListRoom.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<div class="panel">
    <div class="panel-heading">
        <div class="row">
            <div class="col col-sm-12 col-xs-12"
                style="display: flex; justify-content: space-between; align-items: center;">
                <h4 class="title">Data List</h4>
                <a asp-page="/AddRooms" data-tip="add" style="color:white"><i class="fa fa-add"
                        style="color:white"></i>Add New Room</a>
            </div>
        </div>
        <div class="panel-body table-responsive">
           

            @if (Model.IRooms != null && Model.IRooms.Any())
            {
                <table class="table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Room Name</th>
                            <th>Capacity</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>

                        @foreach (var room in Model.IRooms)
                        {
                            <tr>
                                <td>@room.Id</td>
                                <td>@room.RoomName</td>
                                <td>@room.Capacity</td>
                                <td>
                                    <form method="post" asp-page-handler="EditRoom" asp-route-roomId="@room.Id"
                                        style="display:inline">
                                        <button type="button" onclick="showInputForm('@room.Id')" class="btn btn-danger"><i
                                                class="fa fa-edit"></i></button>
                                        <input id="eRoomName-@room.Id" style="display:none" type="text" name="roomName"
                                            value="@room.RoomName" />
                                        <input id="eRoomCapacity-@room.Id" style="display:none" type="number" name="capacity"
                                            value="@room.Capacity" />
                                        <button id="eOkeyButton-@room.Id" style="display:none" type="submit"
                                            class="btn btn-danger"><i class="fa fa-check-circle"></i></button>
                                    </form>

                                    <form method="post" asp-page-handler="Remove" asp-route-id="@room.Id" style="display:inline"
                                        onsubmit="return confirm('Are you sure you want to delete this?');">
                                        <button type="submit" class="btn btn-danger"><i class="fa fa-trash"></i></button>
                                    </form>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p style="color:white">No rooms available! Start by adding a room.</p>
            }
        </div>
    </div>
</div>


<script src="~/js/ListRoom.js"></script>